<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë‚´ í‹°ì¼“ - V!VAPark</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root{
      --primary:#ff6b6b;
      --accent:#ffe66d;
      --bg:#fff8e7;
      --card-radius:18px;
    }

    html,body{height:100%;}
    body{
      margin:0;
      font-family:Inter, "Noto Sans KR", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      color:#222;
      padding-top:76px; /* header height offset */
    }

    /* Header */
    .site-header{
      position:fixed;
      top:0; left:0; right:0;
      height:76px;
      background:var(--primary);
      display:flex;
      align-items:center;
      z-index:1030;
      box-shadow:0 2px 8px rgba(0,0,0,0.08);
    }
    .site-header .container { display:flex; align-items:center; gap:12px; }
    .logo { color:white; font-weight:700; font-size:1.25rem; display:flex; align-items:center; gap:8px; text-decoration:none; }
    .nav-links { margin-left:24px; display:flex; gap:14px; align-items:center; }
    .nav-links a { color:rgba(255,255,255,0.95); text-decoration:none; font-weight:600;}
    .nav-links a.active { text-decoration:underline; text-underline-offset:6px; }
    .user-area { margin-left:auto; display:flex; gap:8px; align-items:center; }
    .profile-thumb{ width:36px; height:36px; border-radius:50%; background:#fff7ea; display:inline-flex; align-items:center; justify-content:center; font-weight:700; color:var(--primary); }

    /* Page title */
    .page-title{ text-align:center; margin:28px 0 12px; }
    .page-title h1{ color:var(--primary); font-weight:800; margin-bottom:6px; }
    .page-title p{ color:#555; margin:0; }

    /* Ticket grid */
    .ticket-list {
      max-width:1200px;
      margin: 24px auto 80px;
      padding:0 16px;
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap:20px;
    }

    .ticket-card{
      border-radius:var(--card-radius);
      overflow:hidden;
      background:white;
      box-shadow:0 8px 20px rgba(0,0,0,0.06);
      display:flex;
      flex-direction:column;
      transition:transform .18s ease, box-shadow .18s;
    }
    .ticket-card:hover{ transform:translateY(-6px); box-shadow:0 14px 30px rgba(0,0,0,0.09); }

    .ticket-thumb{
      height:160px;
      width:100%;
      object-fit:cover;
      display:block;
    }
    .ticket-body{
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:8px;
      flex:1;
    }
    .ticket-title{ font-weight:700; color:#333; margin:0; }
    .ticket-meta{ color:#555; font-size:0.95rem; margin:0; line-height:1.4; white-space:pre-line; }
    .ticket-actions{ margin-top:auto; display:flex; gap:8px; }
    .btn-detail{
      background:var(--accent);
      border:none;
      color:#111;
      font-weight:700;
      border-radius:10px;
      padding:10px 12px;
      width:100%;
    }

    /* Modal QR box */
    .qr-box{
      width:200px;
      height:200px;
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius:8px;
      background:linear-gradient(180deg,#fff,#fff9e6);
      border:1px dashed rgba(0,0,0,0.06);
      margin:12px 0;
    }

    @media (max-width:576px){
      .nav-links { display:none; }
      .site-header .container { justify-content:space-between; }
      .page-title h1{ font-size:1.25rem; }
      body{ padding-top:70px; }
      .ticket-thumb{ height:200px; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <a class="logo" href="#">
        <span style="font-size:1.35rem">ğŸ¡</span> <span>V!VAPark</span>
      </a>

      <nav class="nav-links">
        <a href="#">í™ˆ</a>
        <a href="#">í‹°ì¼“ ì˜ˆë§¤</a>
        <a href="#" class="active">ë‚´ í‹°ì¼“</a>
        <a href="#">ì´ë²¤íŠ¸</a>
        <a href="#">ê³ ê°ì„¼í„°</a>
      </nav>

      <div class="user-area">
        <div class="profile-thumb">NY</div>
        <button class="btn btn-sm" style="background:#fff;color:var(--primary);font-weight:700;border-radius:8px;">ë¡œê·¸ì•„ì›ƒ</button>
      </div>
    </div>
  </header>

  <!-- Page Title -->
  <section class="page-title">
    <h1>ë‚´ í‹°ì¼“ í™•ì¸í•˜ê¸°</h1>
    <p>ì˜ˆë§¤í•œ í‹°ì¼“ì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  QRë¡œ ì…ì¥í•˜ì„¸ìš” ğŸŸï¸</p>
  </section>

  <!-- Ticket list -->
  <section class="ticket-list" id="ticketList">
    <article class="ticket-card" data-id="A1234567" data-title="V!VAPark 1ì¼ ììœ ì´ìš©ê¶Œ" data-date="2025-11-15" data-people="ì„±ì¸ 2, ì²­ì†Œë…„ 1" data-gate="ì¤‘ì•™ì…êµ¬" data-payment="ì‹ ìš©ì¹´ë“œ (****-****-1234)" data-booked="2025-11-10 14:22">
      <img class="ticket-thumb" src="https://images.unsplash.com/photo-1563906267088-b029e7101113?q=80&w=1200&auto=format&fit=crop" alt="í‹°ì¼“ ì´ë¯¸ì§€">
      <div class="ticket-body">
        <h3 class="ticket-title">V!VAPark 1ì¼ ììœ ì´ìš©ê¶Œ</h3>
        <p class="ticket-meta">ğŸ“… ì´ìš©ì¼: <strong>2025.11.15</strong><br>ğŸ‘¥ ì¸ì›: <strong>ì„±ì¸ 2, ì²­ì†Œë…„ 1</strong><br>ğŸ’³ ê²°ì œê¸ˆì•¡: <strong>â‚©120,000</strong></p>
        <div class="ticket-actions">
          <button class="btn-detail" data-action="detail">ìƒì„¸ë³´ê¸°</button>
        </div>
      </div>
    </article>
  </section>

  <!-- Modal -->
  <div class="modal fade" id="ticketModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content" style="border-radius:14px; overflow:hidden;">
        <div class="modal-header" style="background:linear-gradient(90deg,var(--accent),#fff);">
          <h5 class="modal-title">ì˜ˆë§¤ ìƒì„¸</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ë‹«ê¸°"></button>
        </div>
        <div class="modal-body">
          <p><strong>ğŸŸï¸ ì˜ˆë§¤ë²ˆí˜¸:</strong> <span id="m-id"></span></p>
          <p><strong>ğŸ  í‹°ì¼“ëª…:</strong> <span id="m-title"></span></p>
          <p><strong>ğŸ“… ì´ìš©ì¼:</strong> <span id="m-date"></span></p>
          <p><strong>ğŸ‘¥ ì¸ì›:</strong> <span id="m-people"></span></p>
          <p><strong>ğŸï¸ ì…ì¥ê²Œì´íŠ¸:</strong> <span id="m-gate"></span></p>
          <p><strong>ğŸ’³ ê²°ì œìˆ˜ë‹¨:</strong> <span id="m-payment"></span></p>
          <p><strong>â° ì˜ˆë§¤ì¼ì‹œ:</strong> <span id="m-booked"></span></p>

          <div class="qr-box" id="m-qr"></div>
          <small class="text-muted">QR ì½”ë“œë¥¼ ì…ì¥ ì‹œ ì œì‹œí•˜ì„¸ìš”.</small>
        </div>
        <div class="modal-footer">
          <button id="btnCancel" class="btn btn-outline-danger">í‹°ì¼“ ì·¨ì†Œí•˜ê¸°</button>
          <button id="btnPrint" class="btn btn-primary">PDF ì €ì¥ / ì¸ì‡„</button>
          <button class="btn btn-secondary" data-bs-dismiss="modal">ë‹«ê¸°</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    function generateSimpleQR(id){
      const size = 200;
      const rectSize = 12.5;
      let svg = '<svg xmlns="http://www.w3.org/2000/svg" width="'+size+'" height="'+size+'">';
      svg += '<rect width="'+size+'" height="'+size+'" fill="#fff"/>';
      let hash = 0;
      for(let i=0;i<id.length;i++) hash = (hash<<5)-hash+id.charCodeAt(i);
      for(let y=0;y<16;y++){
        for(let x=0;x<16;x++){
          const v = ((hash>>((x+y)%32)) & 1)?'#111':'#eee';
          svg += `<rect x="${x*12.5}" y="${y*12.5}" width="12.5" height="12.5" fill="${v}"/>`;
        }
      }
      svg += `<text x="${size/2}" y="${size-12}" text-anchor="middle" font-size="12" fill="#333">${id}</text></svg>`;
      return 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
    }

    const modal = new bootstrap.Modal(document.getElementById('ticketModal'));
    const ticketList = document.getElementById('ticketList');

    ticketList.addEventListener('click', (e)=>{
      if(e.target.matches('[data-action="detail"]')){
        const card = e.target.closest('.ticket-card');
        document.getElementById('m-id').textContent = card.dataset.id;
        document.getElementById('m-title').textContent = card.dataset.title;
        document.getElementById('m-date').textContent = card.dataset.date;
        document.getElementById('m-people').textContent = card.dataset.people;
        document.getElementById('m-gate').textContent = card.dataset.gate;
        document.getElementById('m-payment').textContent = card.dataset.payment;
        document.getElementById('m-booked').textContent = card.dataset.booked;

        const qrBox = document.getElementById('m-qr');
        qrBox.innerHTML = `<img src="${generateSimpleQR(card.dataset.id)}" alt="QR" style="width:100%;height:100%;object-fit:contain;">`;

        modal.show();
      }
    });
  </script>
</body>
</html>
